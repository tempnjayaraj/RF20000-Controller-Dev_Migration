/*******************************************************************************
//                   ArthroCare Proprietary and Confidential
//                   (c) ArthroCare Corporation 2012
//                           All Rights Reserved
********************************************************************************
$Author:: Harshil.Shah      $:
$Rev:: 2806                 $:
$Date:: 2022-02-01 14:41:51#$:

CPU:               Freescale Kinetis P/N MK60FN1M0VLQ15 (144-Pin), REVID ?
Compiler:          IAR ANSI C/C++ Compiler for ARM 6.50
*******************************************************************************/
/***************************************************************************//**
\file      gui.c
\brief     This is the driver file for GUI.
\details   This driver runs the GUI state machine.
*******************************************************************************/
#include "gui.h"
#include "system.h"
#include <stdlib.h>
#include "pit.h"
#include "audio.h"
#include "MK26F18.h"
#include "switches.h"
#include <limits.h>
#include "legacy_wand.h"
#include "profiles.h"
#include "notifications.h"
#include "wand.h"
#include "systick.h"
#include "pump.h"
#include "rf.h"
#include "state_machine.h"

void st(uint8_t);
void in(uint8_t);
void us(uint8_t);
void ad(uint8_t);
void NA(uint8_t);
void hm(uint8_t);
void mm(uint8_t);
void lm(uint8_t);

void re(uint8_t);
void la(uint8_t);
void dl(uint8_t);
void bt(uint8_t);
void hn(uint8_t);
void hd(uint8_t);
void hp(uint8_t);
void mn(uint8_t);
void md(uint8_t);
void mp(uint8_t);
void ln(uint8_t);
void ld(uint8_t);
void lp(uint8_t);
void fi(uint8_t);
void fd(uint8_t);
void ia(uint8_t);
void iv(uint8_t);
void c2(uint8_t);
void c1(uint8_t);
void wn(uint8_t);
void lg(uint8_t);
void fp(uint8_t);
void pr(uint8_t);
void ba(uint8_t);
void lt(uint8_t);
void us(uint8_t);
void ti(uint8_t);
void ea(uint8_t);
void da(uint8_t);
void ds(uint8_t);
void ai(uint8_t);
void ad(uint8_t);
void ui(uint8_t);
void ud(uint8_t);
void es(uint8_t);
void td(uint8_t);
void wh(uint8_t);
void ew(uint8_t);
void dw(uint8_t);
void ef(uint8_t);
void df(uint8_t);

void kb(uint8_t);
void sv(uint8_t);
void dp(uint8_t);
void ap(uint8_t);
void cd(uint8_t);
void rc(uint8_t);
void ps(uint8_t);
void of(uint8_t);
void ls(uint8_t);
void ob(uint8_t);

void leap (uint8_t);
void leam (uint8_t);
void lecm (uint8_t);
void lecp (uint8_t);
void scm (uint8_t);
void scp (uint8_t);

void sn (uint8_t);
void cu (uint8_t);

uint8_t m_prime(float spd);

void c3(uint8_t);
void pm(uint8_t);
void pa(uint8_t);
void ce(uint8_t);
void fil (uint8_t);
void fdl (uint8_t);
void pml(uint8_t value);
void pmm(uint8_t value);

void mfi(uint8_t);
void mfd(uint8_t);

void mute_timer(uint8_t value);
void gui_stop_auto_prime(void);
void gui_clear_auto_prime_event(void);
void rel(uint8_t);
static uint8_t change_flow_sp(uint8_t new_flow);
static uint8_t change_screenID(uint8_t);
uint8_t current_profile_active = 0;
extern legacy_wand_params legacy_wand_params_obj;
extern manta_prime prime;
extern uint8_t current_coag_setpoint;
extern state current_state;
uint8_t manta_prime_id = 0;
void autoprime_timeout(void);
void autoprime_lock_timeout(void);
 __packed GUI_Jump_Table GUI_Input[MAX_NUM_SCREENS][MAX_NUM_BUTTONS] = 
{

/* Screen #0: blank screen */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */  
   {0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
/*102,103,104,105,106,107 */
    0,  0,  0,  0,  0,  0},

/* Screen #1: SPLASH_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */  
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #2: FAULT_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */  
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #3: WAND_DETECTION_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */
  {0, 0, 0, 0, 0, 0, 0, 0, 0, st, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */     
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #4: INSERT_TUBE_HELP_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */  
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */     
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #5: CLOSE_PUMP_DOOR_HELP_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */   
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */     
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #6: CONNECT_FOOTPEDAL_HELP_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */     
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #7: DELETE_INDIVIDUAL_USER_PROFILE_CHANCE_TO_BACK_OUT_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   0, 0, 0, 0, 0, dp, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */
    0,  0,  0,  0,  0,  0,  0,  0, ba,  0,  0,  0,  0,  0,  0,  0,  0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #8: SET_LEVEL_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */  
   {0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, fi,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */
   fd,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, iv, ia,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */
    0,  0,  0,  0,  0,  0,  0,  0, ba,  0, c1, c2,  0,  0,  0,  0,  0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, hn, hd, hp, 
/*102,103,104,105,106,107 */
   mn, md, mp, ln, ld, lp},

/* Screen #9: SET_DEFAULT_FINGERSWITCH_SETTINGS_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #10: MAIN_SETTINGS_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */      
   {0,  0,  0,  0,  0,  0,  0,  0,  0,  0, dl,  0,  0,  0,  0,  0,  0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
    0,  0,  0,  0, lg,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */
    0,  0,  0,  0, fp, us,  0,  0,  0,  0,  0,  0,  0,  0, dl,  0,  0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */
    0,  0,  0,  0,  0, ps,  0,  0, ba,  0,  0,  0,  0,  0,  0,  0,  0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
    0,  0,  0,  0,  0,  0, pr, us,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
/*102,103,104,105,106,107 */
    0,  0,  0,  0,  0,  0},

/* Screen #11: PROFILE_SAVE_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */      
   {0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */
    0,  0,  0,  0,  0,  0, sv, kb,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */
    0,  0,  0,  0,  0,  0, ba,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
/*102,103,104,105,106,107 */
    0,  0,  0,  0,  0,  0},

/* Screen #12: USER_NOTIFICATION_TONES_AND_AMBIENT_SETTINGS_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */  
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, ea, da, ti, td, es, ds, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, ba, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, ui, ud, ai, ad, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #13: USER_PROFILES_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */  
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, ap, 0, 0, cd, 0, kb, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, ba, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},
  
/* Screen #14: ENTER_NEW_USER_PROFILE_NAME_SCREEN */  
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, sn, rc, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #15: WIRELESS_FOOTPEDAL_HANDSHAKE_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, ba, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #16: EDIT_USER_PROFILE_NO_WAND_ATTACHED_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #17: EDIT_USER_PROFILE_WAND_ATTACHED_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #18: SWITCHING_SETTINGS_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */  
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, wh, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   ew, dw, ef, df, 0, 0, 0, 0, ba, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #19: LANGUAGES_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */  
   {0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
    0,  0,  0,  0,  0,  0, ls,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
    0,  0,  0,  0,  0,  0,  0,  0, ba,  0,  0,  0,  0,  0,  0,  0,  0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
/*102,103,104,105,106,107 */
    0,  0,  0,  0,  0,  0},

/* Screen #20: WAND_INFO_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */
   0, 0, 0, 0, 0, 0, 0, 0, ba, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #21: FIRMWARE_UPDATE_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
   {0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
    0,  0,  0,  0,  0,  0, cu, of,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  
/*102,103,104,105,106,107 */
    0,  0,  0,  0,  0,  0},

/* Screen #22: ERROR_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  { 0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
    0,  0,  0,  0,  0,  0,  0,  0, re,  0,  0,  0,  0,  0,  0,  0,  0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
/*102,103,104,105,106,107 */
    0,  0,  0,  0,  0,  0},

/* Screen #23: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #24: OPEN_PUMP_DOOR_HELP_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #25: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #26: SAVE_SETTINGS_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},
  
/* Screen #27: SAVE_SETTINGS_CONFIRMATION_SCREEN */  
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},
  
/* Screen #28: not used */  
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #29: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #30: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #31: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #32: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #33: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */   
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #34: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #35: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #36: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #37: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #38: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */  
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #39: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #40: RF_2000_WAND_TREATMENT_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
   {0,  0,  0,  0,  0,  0, hm, mm, lm, st, in, in, in, in,  0, in, in,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   in, in,  0, in,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
    0,  0,  0,  0,  0, us,  0,  0,  0,  0,  0,  0,  0,  0, dl,  0,  0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
    0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
    0,  0,  0,  0,  0,  ps, 0,  0,  0,  0, c1, c2, us,  0,  0,  0, la,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
    0,  0,  0, wn,  0, us, pr,  0, ui, ud,  0,  0, in, in,  0,  0,  0, 
/*102,103,104,105,106,107 */
    0,  0,  0,  0,  0,  0},

/* Screen #41: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */ 
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #42: LEGACY_6_8_WAND_TREATMENT_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */  
  {0, leap,leam,lecp,lecm, 0, 0, 0, 0, st, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0,  0,  0,  0,  0,  us,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0,  0,  0,  0,  0,  ps,  0,  0, 0,  0,  0,  0,  us, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
    0,  0,  0,  0, us, us, pr,  0, ui, ud,  0,  0,  0,  0,  0,  0,  0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #43: TOPAZ_WAND_TREATMENT_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #44: LEGACY_7_9_WAND_TREATMENT_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},
 
/* Screen #45: LEGACY_7_10_WAND_TREATMENT_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #46: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #47: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #48: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #49: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/* Screen #50: not used */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},

/*
  @ENT
*/
/* Screen #51: LEGACY_ENT_WAND_TREATMENT_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */
  {0, leap,leam,lecp,lecm, 0, 0, 0, 0, st, 0, 0, 0, 0, 0, 0, 0,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0,
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */
   0,  0,  0,  0,  0,  us,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,fil,
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */
  fdl,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,  0,pml, 0,
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */
    0,  0,  0,  0,  0, ps,  0,  0, 0,  0,  0,  0,  us,  0,  0,  0,  0,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */
    0,  0,  0,  0, mute_timer, us, pr,  0, ui, ud,  0,  0,  0,  0,  0,  0,  0,
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, 0},
   
   /* Screen #52: ENT_SMART_WAND_TREATMENT_SCREEN */
/*  0,  1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, 0, 0, 0, hm, mm, lm, st, in, in, in, in, 0, in, in,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   in, in, ce, in, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, us, 0, 0, 0, 0, 0, 0, 0, 0, dl, 0, fi, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   fd, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, pm, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0,  ps,0, 0, 0, 0, c1, c2, 0, c3, 0, 0, la,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, wn, 0, us, pr, 0, ui, ud, 0, 0, in, in, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, NA},

   /* Screen #53: MANTA_ENT_SMART_WAND_TREATMENT_SCREEN */
/*  0,  1,  2,    3,    4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16, */    
  {0, 0, 0, scp, scm, 0, 0, 0, 0, st, in, in, in, in, 0, in, in,
/* 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, */
   in, in, ce, in, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 
/* 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, */  
   0, 0, 0, 0, 0, us, 0, 0, 0, 0, 0, 0, 0, 0, dl, 0, mfi, 
/* 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, */  
   mfd, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, rel, 0, 
/* 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, */  
   0, 0, 0, 0, 0,  ps,0, 0, 0, 0, c1, c2, 0, c3, 0, 0, la,
/* 85, 86, 87, 88, 89, 90, 91, 92, 93, 94, 95, 96, 97, 98, 99,100,101, */  
   0, 0, 0, wn, 0, us, pr, 0, ui, ud, 0, 0, in, in, 0, 0, 0, 
/*102,103,104,105,106,107 */
   0, 0, 0, 0, 0, NA},
};

#define MAX_TIMED_PRIME_MSEC    12000  //Timed Priming to stop at 12seconds

/*
  @ENT - add flow screen info
*/
const uint8_t MAX_FLOW_LEVEL = 5;
//auto-prime call back trackers
static FlagStatus StopAutoPrime = RESET;
u8 AutoPrimeId = 0U;
u8 AutoPrimeTimeoutId = 0U;
static u8 AutoPrimeLockId = 0U;

//manual prime call back tracker
u8 PrimeId = 0U;

prime_mode_t PrimeState = PRIME_OFF;


/***************************************************************************//**
Plays the "clicking" sound to indicate a screen press
@param void
@return 0
@outputs
@context
*******************************************************************************/
void la(uint8_t value)
{
   put_event(&evt_tbl,CLICK_SOUND);
}

/***************************************************************************//**
reset error
@param void
@return 0
@outputs
@context
*******************************************************************************/
void re(uint8_t value)
{
   put_event(&evt_tbl,RESET_ERROR);
}

/***************************************************************************//**
NOP function
@param void
@return 0
@outputs
@context
*******************************************************************************/
void in(uint8_t value)
{
   asm("nop");
}

/***************************************************************************//**
Handler for wireless footpedal handshake
@param void
@return 0
@outputs
@context
*******************************************************************************/
void wh(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  put_event(&evt_tbl,WIRELESS_HANDSHAKE);
  current_therapy_settings.footpedal.wireless.handshake_phase = 0;
  current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] = current_therapy_settings.gui.screenID; 
  current_therapy_settings.gui.depth_idx++;
  current_therapy_settings.gui.screenID = WIRELESS_FOOTPEDAL_HANDSHAKE_SCREEN;
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}


/***************************************************************************//**
load user settings screen
@param void
@return 0
@outputs
@context
*******************************************************************************/
void us(uint8_t value)
{
  
  /* button loads pop-up during coblation so don't switch screens */
  if ((current_therapy_settings.treatment.ablate_on == 0) && 
      (current_therapy_settings.treatment.coag_on == 0))
  {
    
    put_event(&evt_tbl,CLICK_SOUND);    
    current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] = current_therapy_settings.gui.screenID;  
    current_therapy_settings.gui.depth_idx++;
    current_therapy_settings.gui.screenID = USER_NOTIFICATION_TONES_AND_AMBIENT_SETTINGS_SCREEN;
    current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
    
  }

}

/***************************************************************************//**
ambient threshold increase
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ti(uint8_t value)
{

  put_event(&evt_tbl,CLICK_SOUND);
  if (current_therapy_settings.ambient.alarm_threshold < 60)
  {

  current_therapy_settings.ambient.alarm_threshold++;

  }
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;

}

/***************************************************************************//**
enable ambient
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ea(uint8_t value)
{

  put_event(&evt_tbl,CLICK_SOUND);
  current_therapy_settings.ambient.enable_user_pref = 1;
  current_therapy_settings.ambient.enable = (current_therapy_settings.ambient.capable &
  current_therapy_settings.ambient.enable_user_pref);
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;

}

/***************************************************************************//**
disable ambient
@param void
@return 0
@outputs
@context
*******************************************************************************/
void da(uint8_t value)
{

  put_event(&evt_tbl,CLICK_SOUND);  
  current_therapy_settings.ambient.enable_user_pref = 0;
  current_therapy_settings.ambient.enable = (current_therapy_settings.ambient.capable &
    current_therapy_settings.ambient.enable_user_pref);
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;

}


/***************************************************************************//**
enable ambient alarm sound
@param void
@return 0
@outputs
@context
*******************************************************************************/
void es(uint8_t value)
{

  put_event(&evt_tbl,CLICK_SOUND);
  current_therapy_settings.ambient.audio_enabled = 1;
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;

}

/***************************************************************************//**
disable ambient alarm sound
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ds(uint8_t value)
{

  put_event(&evt_tbl,CLICK_SOUND);
  current_therapy_settings.ambient.audio_enabled = 0;
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;

}


/***************************************************************************//**
ambient threshold decrease
@param void
@return 0
@outputs
@context
*******************************************************************************/
void td(uint8_t value)
{

  put_event(&evt_tbl,CLICK_SOUND);
  if (current_therapy_settings.ambient.alarm_threshold > 20)
  {

  current_therapy_settings.ambient.alarm_threshold--;

  }
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;

}

/***************************************************************************//**
alarm increase
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ai(uint8_t value)
{
  
  if (current_therapy_settings.ambient.volume < 10)
  {

  current_therapy_settings.ambient.volume++;

  }
          
  if ((current_therapy_settings.gui.alarm_test_sound == 0) &&
     (((current_therapy_settings.ambient.alarm_active == 0) &&
       (current_therapy_settings.ambient.audio_enabled == 1)) ||
      ((current_therapy_settings.ambient.alarm_active == 1) &&
       (current_therapy_settings.ambient.audio_enabled == 0)) ||
      ((current_therapy_settings.ambient.alarm_active == 0) &&
       (current_therapy_settings.ambient.audio_enabled == 0))))
  {
    current_therapy_settings.audio.p_sound_file = lib_sounds[7].p;
    current_therapy_settings.audio.ambient_alarm_page = 0;

    audio_alarmsound();
  
    current_therapy_settings.gui.alarm_test_sound = 1;
            
  }
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
alarm decrease
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ad(uint8_t value)
{
  
  if (current_therapy_settings.ambient.volume > 1)
  {

  current_therapy_settings.ambient.volume--;

  }
  
  if ((current_therapy_settings.gui.alarm_test_sound == 0) &&
     (((current_therapy_settings.ambient.alarm_active == 0) &&
       (current_therapy_settings.ambient.audio_enabled == 1)) ||
      ((current_therapy_settings.ambient.alarm_active == 1) &&
       (current_therapy_settings.ambient.audio_enabled == 0)) ||
      ((current_therapy_settings.ambient.alarm_active == 0) &&
       (current_therapy_settings.ambient.audio_enabled == 0))))
  {
    
    current_therapy_settings.audio.p_sound_file = lib_sounds[7].p;

    current_therapy_settings.audio.ambient_alarm_page = 0;

    audio_alarmsound();
   
    current_therapy_settings.gui.alarm_test_sound = 1;
  
  }
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;

}

/***************************************************************************//**
user volume increase
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ui(uint8_t value)
{
   
  put_event(&evt_tbl,CLICK_SOUND);
          
  if (current_therapy_settings.audio.volume < 10)
  {
    
    current_therapy_settings.audio.volume++;
    
  }
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
        
}

/***************************************************************************//**
user volume decrease
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ud(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);

  if (current_therapy_settings.audio.volume > 1)
  {

    current_therapy_settings.audio.volume--;

  }
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
      
}

/***************************************************************************//**
High mode button press handler
@param void
@return 0
@outputs
@context
*******************************************************************************/
void hm(uint8_t value)
{
  current_therapy_settings.treatment.therapy_mode = HI;
  
  /* Update parameters */
  switch_ablate_parameters();

  /* update idle speed */
  if ((current_therapy_settings.pump.status & PUMP_READY) == PUMP_READY)
  {
    pump.state = IDLE_SPEED;
  }

  play_change_mode_audio();
    
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;  
  
}

/***************************************************************************//**
Med mode button press handler
@param void
@return 0
@outputs
@context
*******************************************************************************/
void mm(uint8_t value)
{
  current_therapy_settings.treatment.therapy_mode = MED;
    
  /* Update parameters */
  switch_ablate_parameters();

  /* update idle speed */
  if ((current_therapy_settings.pump.status & PUMP_READY) == PUMP_READY)
  {
    pump.state = IDLE_SPEED;
  }
  play_change_mode_audio();
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;  
  
}

/***************************************************************************//**
Low mode button press handler
@param void
@return 0
@outputs
@context
*******************************************************************************/
void lm(uint8_t value)
{
  current_therapy_settings.treatment.therapy_mode = LO;
   
  /* Update parameters */
  switch_ablate_parameters();

  /* update idle speed */
  if ((current_therapy_settings.pump.status & PUMP_READY) == PUMP_READY)
  {
    pump.state = IDLE_SPEED;
  }
  play_change_mode_audio();
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;  
  
}

/***************************************************************************//**
load main setting screen
@param void
@return 0
@outputs
@context
*******************************************************************************/
void st(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] = current_therapy_settings.gui.screenID;
  current_therapy_settings.gui.depth_idx++;
  
  current_therapy_settings.gui.screenID = MAIN_SETTINGS_SCREEN;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
Null function. Place holder for inactive state machine matrix locations
@param void
@return 0
@outputs
@context
*******************************************************************************/
void NA(uint8_t value)
{

  asm("nop");
  
}

/***************************************************************************//**
Updates the screen based on all the flags and events.
@param void
@return 0
@outputs
@context background task, called from state machine every 200 ms.
*******************************************************************************/
uint8_t update_screen(void) 
{
  
  static uint8_t wireless_filter_cnt = 0;
  uint32_t notifications = (current_therapy_settings.notify.status & 0xFF);
  static uint8_t splash_filter_cnt = 0,
                 foot_pedal_help_screen_cnt = 0,
                 check_electrode_timeout = 0;
  uint8_t priority_notice = 0;
  
  /* initially display splash screen */
  if(current_therapy_settings.sw.shutdown_imminent == TRUE)
  {
    
    wireless_filter_cnt = 0;
    foot_pedal_help_screen_cnt = 0;
    current_therapy_settings.gui.screenID = 0; /* blank */
    current_therapy_settings.gui.depth_idx = 0;
    splash_filter_cnt = 0;
    
  }
  else if (splash_filter_cnt < 4) 
  {
  
    wireless_filter_cnt = 0;
    foot_pedal_help_screen_cnt = 0;
    splash_filter_cnt++;
    current_therapy_settings.gui.screenID = SPLASH_SCREEN;
    current_therapy_settings.gui.depth_idx = 0;
  
  }
  else if (((current_therapy_settings.notify.status & FAULT_MASK_1) > 0) ||
           ((current_therapy_settings.notify.status2 & FAULT_MASK_2) > 0))
  {
    
    wireless_filter_cnt = 0;
    foot_pedal_help_screen_cnt = 0;
    current_therapy_settings.gui.screenID = FAULT_SCREEN;
    current_therapy_settings.gui.depth_idx = 0;
    
  }
  else if (notifications > 0)
  {
    
    wireless_filter_cnt = 0;
    foot_pedal_help_screen_cnt = 0;
    if (current_therapy_settings.gui.screenID != ERROR_SCREEN)
    {  
      cancel_new_profile();
      current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] = current_therapy_settings.gui.screenID;
      current_therapy_settings.gui.depth_idx++;
      check_electrode_timeout = 0;
      
    }
    
    priority_notice = (current_therapy_settings.notify.status & 0x000000FF);
    
    if ((priority_notice == 25) &&
        (check_electrode_timeout < 51))
    {
      
      check_electrode_timeout++;
      
    }
    
    if (check_electrode_timeout >= 51)
    {
      
      current_therapy_settings.notify.status2 &= ~CHECK_ELECTRODE_NOTIFICATION_MASK;
      
    }
    
    current_therapy_settings.gui.screenID = ERROR_SCREEN;
    
    
  }
  else if ((current_therapy_settings.sdhc.card_ready == TRUE) &&
           (current_therapy_settings.wand.unlocked == 0))
  {
    
    current_therapy_settings.gui.screenID = FIRMWARE_UPDATE_SCREEN;
    current_therapy_settings.gui.depth_idx = 0;
    
  }
  else if (current_therapy_settings.gui.screenID == WIRELESS_FOOTPEDAL_HANDSHAKE_SCREEN)
           
  {
    
    wireless_filter_cnt++;
    if (current_therapy_settings.footpedal.wireless.married == 1)
    {
      current_therapy_settings.treatment.wireless_enable = (bool)1; 
      current_therapy_settings.footpedal.wireless.handshake_phase = 2;
      if (wireless_filter_cnt > 40)
      {
        
        if (current_therapy_settings.gui.depth_idx > 0)
        {
          
          current_therapy_settings.gui.depth_idx--;
          
        }
        current_therapy_settings.gui.screenID = current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx];
                        
      }
      else if (wireless_filter_cnt > 30)
      {
        
        current_therapy_settings.footpedal.wireless.handshake_phase = 3;
        
      }
      
    }
    else if (current_therapy_settings.footpedal.wireless.marry_in_progress == 1)
    {
      
      wireless_filter_cnt = 0;
      current_therapy_settings.footpedal.wireless.handshake_phase = 1;      
            
    } 
    
    if (current_therapy_settings.footpedal.wireless.marriage_err == 1)
    {
      
      current_therapy_settings.footpedal.wireless.handshake_phase = 0;
      if (wireless_filter_cnt > 15)
      {
        wireless_filter_cnt = 0;
        put_event(&evt_tbl,WIRELESS_HANDSHAKE);
       }
      
    }
    
  }
  else if (current_therapy_settings.wand.unlocked == FALSE &&
           (legacy_wand_params_obj.wand_connected == 0) )
  {
    
    wireless_filter_cnt = 0;
    current_therapy_settings.gui.screenID = 
      change_screenID(WAND_DETECTION_SCREEN);

    
  }
  else if (((current_therapy_settings.treatment.finger_switch_en == 0) ||
            ((legacy_wand_params_obj.wand_connected == 0) && (smart_wand_params.mfg.finger_switch_enable == 0))) &&
            (current_therapy_settings.footpedal.wireless.present == 0) &&
            (current_therapy_settings.footpedal.wired.present == 0) &&
           ((foot_pedal_help_screen_cnt < 20) || (current_therapy_settings.controller == ENT)))
  {
    
    wireless_filter_cnt = 0;
    foot_pedal_help_screen_cnt++;
    current_therapy_settings.gui.depth_idx = 0;
    if ((foot_pedal_help_screen_cnt == 20) &&
      (current_therapy_settings.controller != ENT))
    {
      current_therapy_settings.gui.screenID = SWITCHING_SETTINGS_SCREEN;
    }
    else
    {
      cancel_new_profile();
      current_therapy_settings.gui.screenID = CONNECT_FOOTPEDAL_HELP_SCREEN;
    }
    
  }
  else if ((legacy_wand_params_obj.wand_connected == 1) && 
           (current_therapy_settings.wand.unlocked == FALSE) &&
           ((legacy_wand_params_obj.wand_909 == 1) || (current_therapy_settings.controller == ENT))&&
           (current_therapy_settings.footpedal.wired.present == 0) &&
           (current_therapy_settings.footpedal.wireless.present == 0) &&
           (foot_pedal_help_screen_cnt < 20))
  {
    wireless_filter_cnt = 0;
    foot_pedal_help_screen_cnt++;
    current_therapy_settings.gui.depth_idx = 0;
    if ((foot_pedal_help_screen_cnt == 20) &&
      (current_therapy_settings.controller != ENT))
    {
      current_therapy_settings.gui.screenID = SWITCHING_SETTINGS_SCREEN;
    }
    else
    {
      cancel_new_profile();
      current_therapy_settings.gui.screenID = CONNECT_FOOTPEDAL_HELP_SCREEN;
      if(current_therapy_settings.controller == ENT)
      {
        foot_pedal_help_screen_cnt = 0;
      }
    }
      
  }
  else if ((current_therapy_settings.active_wand.lw_active) &&
           (current_therapy_settings.controller == SPORTS_MED))
  {
    wireless_filter_cnt = 0;
    if (current_therapy_settings.gui.screenID == WAND_INFO_SCREEN)
    {
      current_therapy_settings.gui.depth_idx = 0;
      current_therapy_settings.gui.screenID = LEGACY_6_8_WAND_TREATMENT_SCREEN;
    }
    else
    {
      current_therapy_settings.gui.screenID = 
      change_screenID(LEGACY_6_8_WAND_TREATMENT_SCREEN);
    }
  }
  else if ( ((current_therapy_settings.pump.status & TUBE_ABSENT) ==  TUBE_ABSENT) &&
            ( (current_therapy_settings.wand.unlocked == TRUE) ||
              ((current_therapy_settings.controller == ENT) &&
               (current_therapy_settings.legacy_wand_levels.topaz_timer == 0))))
  {
    
    wireless_filter_cnt = 0;    
    current_therapy_settings.gui.screenID = 
      change_screenID(INSERT_TUBE_HELP_SCREEN);
      
  }

  else if (((current_therapy_settings.pump.status & DOOR_OPEN) == DOOR_OPEN) &&
           ((current_therapy_settings.wand.unlocked == TRUE) ||
            ((current_therapy_settings.controller == ENT) &&
             (current_therapy_settings.legacy_wand_levels.topaz_timer == 0))))
  {
        
    wireless_filter_cnt = 0;
    current_therapy_settings.gui.screenID = 
      change_screenID(CLOSE_PUMP_DOOR_HELP_SCREEN);
   
  }
  
  else if (((current_therapy_settings.pump.status & DOOR_CLOSE) == DOOR_CLOSE) &&
           ((current_therapy_settings.wand.unlocked == TRUE) ||
            ((current_therapy_settings.controller == ENT) &&
             (current_therapy_settings.legacy_wand_levels.topaz_timer == 0))))
  {

    wireless_filter_cnt = 0;
    current_therapy_settings.gui.screenID = 
      change_screenID(OPEN_PUMP_DOOR_HELP_SCREEN);
   
  }
  else if ((current_therapy_settings.active_wand.lw_active) &&
           (current_therapy_settings.controller == ENT))
  {
    wireless_filter_cnt = 0;
    if (current_therapy_settings.gui.screenID == WAND_INFO_SCREEN)
    {
        current_therapy_settings.gui.depth_idx = 0;
        current_therapy_settings.gui.screenID = LEGACY_ENT_WAND_TREATMENT_SCREEN;
    }
    else
    {
      current_therapy_settings.gui.screenID =
                              change_screenID(LEGACY_ENT_WAND_TREATMENT_SCREEN);
    }
  }
  /* display treatment screen if wand unlocked & last screen was wand detect */
  else if ((((current_therapy_settings.wand.unlocked == TRUE) &&
            (legacy_wand_params_obj.wand_connected == 1) &&
            (current_therapy_settings.wand.valid == TRUE)) ||
            ((current_therapy_settings.wand.unlocked == TRUE) &&
             (legacy_wand_params_obj.wand_connected == 0) &&
               (current_therapy_settings.wand.valid == TRUE))) &&
           ((current_therapy_settings.pump.status & SENSORS_OK) == SENSORS_OK))
  {
    
    wireless_filter_cnt = 0;
     /* check sports med or ent wand */
    if (current_therapy_settings.controller == SPORTS_MED)
    {
      if(smart_wand_params.mfg.indication == SMART_WAND_MFG_INDICATION_MANTA)
      {
        current_therapy_settings.gui.screenID = 
        change_screenID(MANTA_SMART_WAND_TREATMENT_SCREEN);
        current_therapy_settings.active_wand.lw_active = 0;
      }
      else if(smart_wand_params.mfg.indication == SMART_WAND_MFG_INDICATION_SPORTS_MED)
      {
        current_therapy_settings.gui.screenID = 
        change_screenID(RF_2000_WAND_TREATMENT_SCREEN);
      }
    }
    else if (current_therapy_settings.controller == ENT)
    {
      current_therapy_settings.gui.screenID = 
        change_screenID(ENT_SMART_WAND_TREATMENT_SCREEN);
    }
  }  
  if (((current_therapy_settings.treatment.finger_switch_en == 1) &&
      (legacy_wand_params_obj.wand_909 == 0) && 
      (current_therapy_settings.controller != ENT)) ||
      (current_therapy_settings.footpedal.wireless.present >= 1) ||
      (current_therapy_settings.footpedal.wired.present == 1) ||
     ((legacy_wand_params_obj.wand_connected == 0) &&
      (current_therapy_settings.wand.unlocked == FALSE)))
  {
    
     foot_pedal_help_screen_cnt = 0;
     
  }

  
  return 0;
  
}

/***************************************************************************//**
Changes the ID of the screen
@param void
@return 0
@outputs
@context
*******************************************************************************/
uint8_t change_screenID(uint8_t screen_num)
{

  uint8_t new_screen_num = 0;
  /* lookup table of just settings type screens */
  const uint8_t settings_screens[MAX_NUM_SCREENS] =
  {
    /* 0-6   */  0,0,0,0,0,0,0,
    /* 7     */  DELETE_INDIVIDUAL_USER_PROFILE_CHANCE_TO_BACK_OUT_SCREEN,
    /* 8     */  SET_LEVEL_SCREEN,
    /* 9     */  0,
    /* 10    */  MAIN_SETTINGS_SCREEN,
    /* 11    */  PROFILE_SAVE_SCREEN,
    /* 12    */  USER_NOTIFICATION_TONES_AND_AMBIENT_SETTINGS_SCREEN,
    /* 13    */  USER_PROFILES_SCREEN,
    /* 14    */  ENTER_NEW_USER_PROFILE_NAME_SCREEN,
    /* 15    */  WIRELESS_FOOTPEDAL_HANDSHAKE_SCREEN,
    /* 16-17 */  0,0,
    /* 18    */  SWITCHING_SETTINGS_SCREEN,
    /* 19    */  LANGUAGES_SCREEN,
    /* 20-52 */  WAND_INFO_SCREEN,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
  };
  
  /* if a settings screen just change end of back button path */
  if (settings_screens[current_therapy_settings.gui.screenID] != 0)
  {
    
    current_therapy_settings.gui.previous_screenID[0] = screen_num;
    new_screen_num = current_therapy_settings.gui.screenID;
    
  }
  else
  {
    
    /* change the screen to proposed screen */
    new_screen_num = screen_num;
    current_therapy_settings.gui.depth_idx = 0;
    
  }
  
  return new_screen_num;
  
}

uint8_t adjusted_screen_id (uint8_t screen_id)
{
  uint8_t adjusted_screen_id = 0;
  switch (screen_id)
  {
  case 0x51:
    adjusted_screen_id = screen_id - 1;
    break;
  case 0x52:
    adjusted_screen_id = screen_id - 1;
    break;
  case 0x53:
    adjusted_screen_id = screen_id - 1;
    break;
  default:
    adjusted_screen_id = screen_id;
    break;
  }
  return adjusted_screen_id;
}

/***************************************************************************//**
This function calls the appropriate handler based on the GUI events and the
state. This is a dispatch function.
@param void
@return 0
@outputs
@context
*******************************************************************************/
uint8_t update_gui(void)
{
  GUI_Jump_Table jump_table = GUI_Input[adjusted_screen_id(current_therapy_settings.gui.screenID)]
                                       [current_therapy_settings.gui.graphics.GraphicNumber];
  
  uint8_t ngraphic = current_therapy_settings.gui.graphics.GraphicNumber,  
          block_button_flag = 0;
  
  block_button_flag = 
    ((current_therapy_settings.gui.auto_revert_back_screenID == 0) |
     (ngraphic == USER_TONE_PLUS_BUTTON) |
     (ngraphic == USER_TONE_MINUS_BUTTON)) ? 0 : 1;
     
     if (PrimeState == PRIME_AUTO) /* Exception for Auto-Prime */
     {
       block_button_flag = 0;
     }
  
  if ((jump_table != 0) &&
      (block_button_flag == 0))
  {

  jump_table (current_therapy_settings.gui.graphics.GraphicValue);
  
  }
    
  return 0;
    
}

/***************************************************************************//**
Loads Splash Screen
@param void
@return 0
@outputs
@context
*******************************************************************************/
uint8_t load_screen01(void)
{
  
  current_therapy_settings.gui.screenID = SPLASH_SCREEN;
  current_therapy_settings.gui.depth_idx = 0;
  
  return 0;
  
}

/***************************************************************************//**
set default levels screen
@param void
@return 0
@outputs
@context
*******************************************************************************/
void dl(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] = current_therapy_settings.gui.screenID;
  current_therapy_settings.gui.depth_idx++;
  
  current_therapy_settings.gui.screenID = SET_LEVEL_SCREEN;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
high negative
@param void
@return 0
@outputs
@context
*******************************************************************************/
void hn(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.hi = ABLATE_MINUS;
  
  switch_ablate_parameters();
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
high default
@param void
@return 0
@outputs
@context
*******************************************************************************/
void hd(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.hi = ABLATE_DEFAULT;
  
  switch_ablate_parameters();
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
    
}

/***************************************************************************//**
high plus
@param void
@return 0
@outputs
@context
*******************************************************************************/
void hp(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.hi = ABLATE_PLUS;
  
  switch_ablate_parameters();
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
    
}

/***************************************************************************//**
Medium negative
@param void
@return 0
@outputs
@context
*******************************************************************************/
void mn(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.med = ABLATE_MINUS;
  
  switch_ablate_parameters();
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
    
}

/***************************************************************************//**
Medium default
@param void
@return 0
@outputs
@context
*******************************************************************************/
void md(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.med = ABLATE_DEFAULT;
    
  switch_ablate_parameters();
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
Medium plus
@param void
@return 0
@outputs
@context
*******************************************************************************/
void mp(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.med = ABLATE_PLUS;
  
  switch_ablate_parameters();
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
low negative
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ln(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.lo = ABLATE_MINUS;
 
  switch_ablate_parameters();
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
low default
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ld(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.lo = ABLATE_DEFAULT;

  switch_ablate_parameters();
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;  
  
}

/***************************************************************************//**
low plus
@param void
@return 0
@outputs
@context
*******************************************************************************/
void lp(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.lo = ABLATE_PLUS;
  
  switch_ablate_parameters();
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;  
  
}

/***************************************************************************//**
flow increase legacy 8-pin
@param void
@return 0
@outputs
@context
*******************************************************************************/
void fil(uint8_t value)
{
  put_event(&evt_tbl,CLICK_SOUND);

  if (current_therapy_settings.treatment.flow_rate < MAX_FLOW_LEVEL)
  {
    current_therapy_settings.treatment.flow_rate++;
  }

  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;

}

/***************************************************************************//**
flow increase
@param void
@return 0
@outputs
@context
*******************************************************************************/
void fi(uint8_t value)
{
  /* Only inrement flow value if Smart ENT wand is connected */
  if((current_therapy_settings.wand.valid == TRUE) && (current_therapy_settings.active_wand.smart_wand == ENT))
  {
    uint8_t new_flow = current_therapy_settings.treatment.flow_rate;
    
    while(++new_flow < MAX_ENT_FLOW_SP)
    {
      if (current_therapy_settings.treatment.ent_flow_sp_enable[new_flow] == 1)
      {
        current_therapy_settings.treatment.flow_rate = change_flow_sp(new_flow);
        break;
      }
    }
    
    if (current_therapy_settings.treatment.flow_rate >= MAX_ENT_FLOW_SP)
    {
      current_therapy_settings.treatment.flow_rate = ENT_FLOW_5;
    }
    
    put_event(&evt_tbl,CLICK_SOUND);
    current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  }
  
}

/***************************************************************************//**
flow increase (Manta)
@param void
@return 0
@outputs
@context
*******************************************************************************/
void mfi(uint8_t value)
{
  
  uint8_t new_flow = current_therapy_settings.treatment.flow_rate;
  
  while(++new_flow < MAX_MANTA_FLOW_SP)
  {
    if (current_therapy_settings.treatment.ent_flow_sp_enable[new_flow] == 1)
    {
      current_therapy_settings.treatment.flow_rate = change_flow_manta(current_therapy_settings.setpoint.coag, new_flow);
      break;
    }
  }
  
  if (current_therapy_settings.treatment.flow_rate >= MAX_ENT_FLOW_SP)
  {
    current_therapy_settings.treatment.flow_rate = ENT_FLOW_5;
  }
  
  put_event(&evt_tbl,CLICK_SOUND);
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
flow decrease
@param void
@return 0
@outputs
@context
*******************************************************************************/
void fd(uint8_t value)
{
  /* Only decrement flow value if Smart ENT wand is connected */
  if((current_therapy_settings.wand.valid == TRUE) && (current_therapy_settings.active_wand.smart_wand == ENT))
  {
    uint8_t new_flow = current_therapy_settings.treatment.flow_rate;    
    while(new_flow-- > ENT_FLOW_1)
    {
      if (current_therapy_settings.treatment.ent_flow_sp_enable[new_flow] == 1)
      {
        current_therapy_settings.treatment.flow_rate = change_flow_sp(new_flow);
        break;
      }
    }
    
    if (current_therapy_settings.treatment.flow_rate >= MAX_ENT_FLOW_SP)
    {
      current_therapy_settings.treatment.flow_rate = ENT_FLOW_0;
    }
    
    put_event(&evt_tbl,CLICK_SOUND);
    current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  }
  
  
}

/***************************************************************************//**
flow decrease (Manta)
@param void
@return 0
@outputs
@context
*******************************************************************************/
void mfd(uint8_t value)
{
  
  uint8_t new_flow = current_therapy_settings.treatment.flow_rate;  
  
  while(new_flow-- > MANTA_FLOW_1)
  {
    if (current_therapy_settings.treatment.ent_flow_sp_enable[new_flow] == 1)
    {
      current_therapy_settings.treatment.flow_rate = change_flow_manta(current_therapy_settings.setpoint.coag, new_flow);
      break;
    }
  }
  
  if (current_therapy_settings.treatment.flow_rate >= MAX_MANTA_FLOW_SP)
  {
    current_therapy_settings.treatment.flow_rate = MANTA_FLOW_0;
  }
  
  put_event(&evt_tbl,CLICK_SOUND);
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
flow decrease legacy 8-pin
@param void
@return 0
@outputs
@context
*******************************************************************************/
void fdl(uint8_t value)
{
  /*
    @ENT - add flow screen info
  */
  const uint8_t MIN_FLOW_LEVEL = 1;

  put_event(&evt_tbl,CLICK_SOUND);

  if (current_therapy_settings.treatment.flow_rate > MIN_FLOW_LEVEL)
  {

    current_therapy_settings.treatment.flow_rate--;

  }

  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;

}

/***************************************************************************//**
iv bag automatic
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ia(uint8_t value)
{
      
  put_event(&evt_tbl,CLICK_SOUND);  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
    
}

/***************************************************************************//**
iv bag not automatic
@param void
@return 0
@outputs
@context
*******************************************************************************/
void iv(uint8_t value)
{
   
  put_event(&evt_tbl,CLICK_SOUND);
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
      
}

/***************************************************************************//**
coag level 3
@param void
@return 0
@outputs
@context
*******************************************************************************/
void c3(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.coag = COAG_3;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}
  

/***************************************************************************//**
coag 2
@param void
@return 0
@outputs
@context
*******************************************************************************/
void c2(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.coag = COAG_2;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
coag 1
@param void
@return 0
@outputs
@context
*******************************************************************************/
void c1(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.setpoint.coag = COAG_1;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
This function is used to increment the coag level. If the level is incremented
below the max level, it rolls over to min. Valid range is 1 - 10 (1 = 110;10 = 200)
@param void
@return 0
@outputs
@context: 
*******************************************************************************/
uint8_t smart_coag_increment ()
{
  put_event(&evt_tbl,CLICK_SOUND);
   uint8_t level = current_therapy_settings.setpoint.coag;
   level++;
   if (level >= 10)
   {
      // No rolling over
      level = 10;
   }
   current_therapy_settings.setpoint.coag = level;
   current_coag_setpoint = level;
   return 0;
}


uint8_t smart_coag_decrement ()
{
  put_event(&evt_tbl,CLICK_SOUND);
   uint8_t level = current_therapy_settings.setpoint.coag;
   if (level <= 1)
   {
     level = 1;
   }
   else
   {
     level--;
   }
   current_therapy_settings.setpoint.coag = level;
   current_coag_setpoint = level;
   return 0;
}

/***************************************************************************//**
wand name
@param void
@return 0
@outputs
@context
*******************************************************************************/
void wn(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.gui.previous_screenID[0] = current_therapy_settings.gui.screenID;
  current_therapy_settings.gui.depth_idx++;
  
  current_therapy_settings.gui.screenID = WAND_INFO_SCREEN;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
language preferences
@param void
@return 0
@outputs
@context
*******************************************************************************/
void lg(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] = current_therapy_settings.gui.screenID;
  current_therapy_settings.gui.depth_idx++;
  
  current_therapy_settings.gui.screenID = LANGUAGES_SCREEN;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
edit foot pedal or finger switch preferences
@param void
@return 0
@outputs
@context
*******************************************************************************/
void fp(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] = current_therapy_settings.gui.screenID;
  current_therapy_settings.gui.depth_idx++;
  
  current_therapy_settings.gui.screenID = SWITCHING_SETTINGS_SCREEN;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
load profile
@param void
@return 0
@outputs
@context
*******************************************************************************/
void pr(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] = current_therapy_settings.gui.screenID;
  current_therapy_settings.gui.depth_idx++;
  
  current_therapy_settings.gui.screenID = USER_PROFILES_SCREEN;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
back to previous screen
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ba(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
    
  if (current_therapy_settings.gui.depth_idx > 0)
  {
    
    current_therapy_settings.gui.depth_idx--;
        
  }

  if (current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] == 0)
  {
    
    current_therapy_settings.gui.screenID = WAND_DETECTION_SCREEN;
    
  }
  else
  {
  
  current_therapy_settings.gui.screenID = 
    current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx];
         
  }
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
load treatment screen
@param void
@return 0
@outputs
@context
*******************************************************************************/
void lt(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
    
  current_therapy_settings.gui.previous_screenID[0] = current_therapy_settings.gui.screenID;
  current_therapy_settings.gui.depth_idx++;
  
  current_therapy_settings.gui.screenID = RF_2000_WAND_TREATMENT_SCREEN;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
enable zigbee wireless
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ew(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  if (current_therapy_settings.footpedal.wireless.married_latch == 1)
  {
    current_therapy_settings.treatment.wireless_enable = (bool)1;
  }
    
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
disable zigbee wireless
@param void
@return 0
@outputs
@context
*******************************************************************************/
void dw(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.treatment.wireless_enable = (bool)0;
  current_therapy_settings.footpedal.wireless.present = 0;
    
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
enable smart wand finger switches
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ef(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.treatment.finger_switch_en = (bool)1;
    
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
disable smart wand finger switches
@param void
@return 0
@outputs
@context
*******************************************************************************/
void df(uint8_t value)
{
  
  uint8_t both_wands_connected = legacy_wand_params_obj.wand_connected +
                                 current_therapy_settings.wand.unlocked;                          
  
  put_event(&evt_tbl,CLICK_SOUND);
    
  if (both_wands_connected < 2)
  {
    
    current_therapy_settings.treatment.finger_switch_en = (bool)0;
    
  }
    
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
load keyboard
@param void
@return 0
@outputs
@context
*******************************************************************************/
void kb(uint8_t value)
{
  
  uint8_t free_record = 0;
  
  put_event(&evt_tbl,CLICK_SOUND);
  for (int i = 1; i <= MAX_NUM_OF_PROFILES; i++)
  {
     
    if (current_therapy_settings.user_data.profile[i].record_full == FALSE)
    {
    
      free_record = i;
      break;
      
    }
    
  }
  current_profile_active = current_therapy_settings.user_data.settings.active_idx;
  current_therapy_settings.user_data.settings.active_idx = free_record;
    
  current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] = current_therapy_settings.gui.screenID;
  current_therapy_settings.gui.depth_idx++;
  
  current_therapy_settings.gui.screenID = ENTER_NEW_USER_PROFILE_NAME_SCREEN;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
return to profile list screen, cancel new profile add and point to previous 
profile selected
@param void
@return 0
@outputs
@context
*******************************************************************************/
void rc(uint8_t value)
{
  
  uint8_t last_record = 0;
  
  //put_event(&evt_tbl,CLICK_SOUND);
  
  /* scan database for last entry */
  for (int i = 1; i <= MAX_NUM_OF_PROFILES; i++)
  {
     
    if (current_therapy_settings.user_data.profile[i].record_full == TRUE)
    {
    
      last_record = i;
      
    }
    
  }
  
  current_therapy_settings.user_data.settings.active_idx = last_record;
  
  ba(value);
  
  ap(current_profile_active);
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}  

/***************************************************************************//**
Save profile
@param void
@return 0
@outputs
@context
*******************************************************************************/
void sv(uint8_t value)
{
  
  uint8_t idx = current_therapy_settings.user_data.settings.active_idx;
  
  put_event(&evt_tbl,CLICK_SOUND);

  /* prevent overwriting default */
  if (idx != 0)
  {
    
    current_therapy_settings.user_data.profile[idx].record_full = save_profile(idx);
  
  }
    
  ba(value);
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
Save profile from new profile screen
@param void
@return 0
@outputs
@context
*******************************************************************************/
void sn(uint8_t value)
{
  
  uint8_t idx = current_therapy_settings.user_data.settings.active_idx;
  
  //put_event(&evt_tbl,CLICK_SOUND);

  /* prevent overwriting default */
  if (idx != 0)
  {
    
    current_therapy_settings.user_data.profile[idx].record_full = save_profile(idx);
  
  }
  
  /* skip save profile screen b/c save just occured */
  if (current_therapy_settings.gui.depth_idx > 0)
  {
    
    current_therapy_settings.gui.depth_idx--;
        
  }
    
  ba(value);
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
select active profile
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ap(uint8_t value)
{
  
  uint8_t profile_not_loaded = 1;
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  /* load selected profile */
  profile_not_loaded = load_profile(value);
  
  if (profile_not_loaded == 0)
  {
    
    current_therapy_settings.user_data.settings.active_idx = value;
        
  }
    
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
confirm delete profile
@param void
@return 0
@outputs
@context
*******************************************************************************/
void cd(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] = current_therapy_settings.gui.screenID;
  current_therapy_settings.gui.depth_idx++;
  
  current_therapy_settings.gui.screenID = DELETE_INDIVIDUAL_USER_PROFILE_CHANCE_TO_BACK_OUT_SCREEN;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}
  
  
/***************************************************************************//**
delete profile
@param void
@return 0
@outputs
@context
*******************************************************************************/
void dp(uint8_t value)
{
  put_event(&evt_tbl,CLICK_SOUND);
  if (value > 0)
  {
    memset(&current_therapy_settings.user_data.profile[value],0,sizeof(current_therapy_settings.user_data.profile[0]));
    current_therapy_settings.user_data.settings.active_idx = 0;
    load_profile(0);
  }
  ba(value);
  if(value == current_therapy_settings.user_data.settings.idx_b4_pwr_cycle)
  {
    current_therapy_settings.user_data.settings.idx_b4_pwr_cycle = 0;  
  }
}

/***************************************************************************//**
profile save
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ps(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  current_therapy_settings.gui.previous_screenID[current_therapy_settings.gui.depth_idx] = current_therapy_settings.gui.screenID;
  current_therapy_settings.gui.depth_idx++;
  
  current_therapy_settings.gui.screenID = PROFILE_SAVE_SCREEN;
  
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
ok_button_firmware_update
@param void
@return 0
@outputs
@context
*******************************************************************************/
void of(uint8_t value)
{
  
  put_event(&evt_tbl,CLICK_SOUND);
  
  put_event(&evt_tbl,COMMENCE_UIS_SW_UPDATE);
    
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
language selection
@param void
@return 0
@outputs
@context
*******************************************************************************/
void ls(uint8_t value)
{       

  put_event(&evt_tbl,CLICK_SOUND);
  current_therapy_settings.gui.languageID = (SUPPORTED_LANGUAGES)value;
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
@ENT
flow auto-prime button pressed
this function assumes this is called once to start and once to stop
@param void
@return 0
@outputs
@context
*******************************************************************************/
void pa(uint8_t value)
{
  if (value == 0)
  {
    put_event(&evt_tbl,CLICK_SOUND);
  }
    
  if(AutoPrimeTimeoutId == 0U)
  {   
    put_event(&evt_tbl,THERAPY_ON);
    current_therapy_settings.pump.idle_rps = smart_wand_params.manta.prime.autom.final_spd;
    
    //setup a callback timer function to cancel auto prime if not pressed
    (void)cbtmr_reg_callback(gui_stop_auto_prime,
                             &StopAutoPrime,
                             smart_wand_params.manta.prime.autom.time,
                             SINGLE_CBTMR,
                             &AutoPrimeTimeoutId);
     PrimeState = PRIME_AUTO;
  }
  else
  {
    //revert to flow set by user
    pump.state = IDLE_SPEED;
    current_therapy_settings.pump.idle_rps = 0;
    gui_clear_auto_prime_event();
    current_therapy_settings.treatment.flow_auto = FALSE;
    PrimeState = PRIME_OFF;
    put_event(&evt_tbl,THERAPY_OFF);
  }
}

/***************************************************************************//**
@ENT
gui_clear_auto_prime_event - clear out the auto-prime call back timer
@param void
@return 0
@outputs
@context
*******************************************************************************/
void gui_clear_auto_prime_event(void)
{
  //cancel callback timer function
  (void)cbtmr_unreg_callback(AutoPrimeTimeoutId);
  StopAutoPrime = RESET;
  AutoPrimeTimeoutId = 0U;
  if((current_therapy_settings.treatment.pre_prime == TRUE))
  {
    prime.blink = TRUE;
  }
}

/***************************************************************************//**
@ENT
gui_stop_auto_prime - force an auto-prime stop
@param void
@return 0
@outputs
@context
*******************************************************************************/
void gui_stop_auto_prime(void)
{
  pa(IV_BAG_AUTO); //this will make it look like auto-prime was pressed
  current_therapy_settings.treatment.prime_glow = FALSE;
  AutoPrimeId = 0U;
}

/***************************************************************************//**
@ENT Smart
pm - force manual prime at downloaded flow value
@param void
@return 0
@outputs
@context
*******************************************************************************/
void pm(uint8_t value)
{
  m_prime(smart_wand_params.ent.prime.autom.spd);
}

/***************************************************************************//**
@ENT Legacy
pml - force manual prime at hard coded flow value
@param void
@return 0
@outputs
@context
*******************************************************************************/
void pml(uint8_t value)
{
  /* manual prime rate is 120RPM */
  const float ent_manual_prime_spd = 2.0f;
  m_prime(ent_manual_prime_spd);
}

/***************************************************************************//**
@ENT & @MANTA
flow manual prime button pressed
@param void
@return 0
@outputs
@context
*******************************************************************************/
uint8_t m_prime(float spd)
{

  put_event(&evt_tbl,CLICK_SOUND);
  
  if(PrimeId == 0U)
  {
    (void)cbtmr_reg_callback(gui_stop_manual_prime,
                             NULL,
                             600,
                             SINGLE_CBTMR,
                             &PrimeId);
     PrimeState = PRIME_MANUAL;
     put_event(&evt_tbl,THERAPY_ON);
     current_therapy_settings.pump.idle_rps = spd;
     current_therapy_settings.treatment.flow_auto = FALSE;
     
  }
  else
  {
    cbtmr_reset_timer(PrimeId);
  }

  return PrimeId;
}

/***************************************************************************//**
@MANTA
Prime button release event on GUI detected
@param void
@return 0
@outputs
@context
*******************************************************************************/
void rel(uint8_t value)
{
  if((current_therapy_settings.wand.valid == TRUE) &&
     (smart_wand_params.mfg.indication == SMART_WAND_MFG_INDICATION_MANTA))
  {
    uint8_t PrimeRunning = get_priming_status(); 
    if (PrimeRunning == PRIME_AUTO)
    {
      pump.state = IDLE_SPEED;
      current_therapy_settings.pump.idle_rps = 0;
      gui_clear_auto_prime_event();
      current_therapy_settings.treatment.flow_auto = FALSE;
      PrimeState = PRIME_OFF;
      put_event(&evt_tbl,THERAPY_OFF);
      prime.blink = FALSE;
      current_therapy_settings.treatment.prime_glow = FALSE;
      current_therapy_settings.treatment.pre_prime = FALSE;
    }
    else
    {
      /* start auto-prime */
      pa(0);
      prime.pump_running = TRUE; /* flag used to avoid logging*/
      /* stop the timer early so manual doesn't start */
      (void)cbtmr_unreg_callback(AutoPrimeId);
      
      prime.blink = FALSE;
      current_therapy_settings.treatment.prime_glow = TRUE;
    }
    
    /* reset the auto-prime flag for next time */
    AutoPrimeId = 0U;
  }
}

/***************************************************************************//**
@MANTA
Empty function at the moment
@param void
@return 0
@outputs
@context
*******************************************************************************/
void autoprime_timeout(void)
{

}

/***************************************************************************//**
@MANTA
Resets Auto Prime Lock Id
@param void
@return 0
@outputs
@context
*******************************************************************************/
void autoprime_lock_timeout(void)
{
  AutoPrimeLockId = 0;
}

/***************************************************************************//**
@ENT
gui_stop_manual_prime - keep track if manual prime is constantly pressed
@param void
@return 0
@outputs
@context
*******************************************************************************/
void gui_stop_manual_prime(void)
{
  pump_set_speed(lw_get_pump_speed(0));
  PrimeId = 0U;  //make sure manual can start again
  PrimeState = PRIME_OFF; 
}

/***************************************************************************//**
@ENT
flow status
@param FlagStatus
@return 0
@outputs
@context
*******************************************************************************/
void gui_save_flow_status(FlagStatus Save)
{
  static u8 SavedLevel = DEFAULT_FLOW_RATE;

  if(Save != RESET)
  {
    SavedLevel = current_therapy_settings.treatment.flow_rate;
    current_therapy_settings.treatment.flow_rate = MAX_FLOW_LEVEL;
    pump_set_speed(lw_get_pump_speed(current_therapy_settings.treatment.flow_rate));
  }
  else
  {
    current_therapy_settings.treatment.flow_rate = SavedLevel;
    pump_set_speed(lw_get_pump_speed(0));
  }

}

/***************************************************************************//**
@ENT
reflex timer mute button
@param FlagStatus
@return 0
@outputs
@context
*******************************************************************************/
void mute_timer(uint8_t value)
{
  put_event(&evt_tbl,CLICK_SOUND);
  if(legacy_wand_params_obj.timer.audio_muted == TRUE)
  {
    legacy_wand_params_obj.timer.audio_muted = FALSE;
  }
  else
  {
    legacy_wand_params_obj.timer.audio_muted = TRUE;
  }
}

/***************************************************************************//**
Legacy wand ablate increment button pressed
@param void
@return 0
@outputs
@context
*******************************************************************************/
void leap (uint8_t value)
{
  put_event(&evt_tbl,CLICK_SOUND);
   legacy_ablate_increment();
}

/***************************************************************************//**
Legacy wand ablate decrement button pressed
@param void
@return 0
@outputs
@context
*******************************************************************************/
void leam (uint8_t value)
{
  put_event(&evt_tbl,CLICK_SOUND);
  legacy_ablate_decrement();
}

/***************************************************************************//**
Legacy wand coag increment button pressed
@param void
@return 0
@outputs
@context
*******************************************************************************/
void lecp (uint8_t value)
{
  put_event(&evt_tbl,CLICK_SOUND);
  legacy_coag_increment();
}

/***************************************************************************//**
Legacy wand coag decrement button pressed
@param void
@return 0
@outputs
@context
*******************************************************************************/
void lecm (uint8_t value)
{
  put_event(&evt_tbl,CLICK_SOUND);
  legacy_coag_decrement();
}

/***************************************************************************//**
Manta wand coag increment button pressed
@param void
@return 0
@outputs
@context
*******************************************************************************/
void scp (uint8_t value)
{
  put_event(&evt_tbl,CLICK_SOUND);
  smart_coag_increment();
}

/***************************************************************************//**
Manta wand coag decrement button pressed
@param void
@return 0
@outputs
@context
*******************************************************************************/
void scm (uint8_t value)
{
  put_event(&evt_tbl,CLICK_SOUND);
  smart_coag_decrement();
}

/***************************************************************************//**
Reset error screen
@param void
@return 0
@outputs
@context
*******************************************************************************/
void LeR (uint8_t value)
{
  put_event(&evt_tbl,RESET_ERROR);
  current_therapy_settings.gui.screenID = USER_NOTIFICATION_TONES_AND_AMBIENT_SETTINGS_SCREEN;
}

/***************************************************************************//**
Cancel firmware update
@param void
@return 0
@outputs
@context
*******************************************************************************/
void cu(uint8_t value)
{
  
  /* as long as gis isn't actively updating, you are permitted to cancel */
  if (current_therapy_settings.sw.update_progress == 0)
  {
   
    put_event(&evt_tbl,CANCEL_SW_UPDATE);   
    current_therapy_settings.gui.screenID = WAND_DETECTION_SCREEN;
    
  }
   
  current_therapy_settings.gui.graphics.GraphicNumber = NULL_GRAPHIC_ID;
  
}

/***************************************************************************//**
@ENT
@param void
@return current priming state
@outputs
@context
*******************************************************************************/
prime_mode_t get_priming_status(void)
{
  return(PrimeState);
}

void ce(uint8_t value)
{
  put_event(&evt_tbl,CLICK_SOUND);
  current_therapy_settings.treatment.ablate_enable ^= TRUE;
}

/***************************************************************************//**
@ENT
change_flow_sp updates the flow rate for selected mode/level.
@param new_flow requested flow rate
@return flow rate for selected mode/level
@outputs
@context
*******************************************************************************/
uint8_t change_flow_sp(uint8_t new_flow)
{
	CUT_LEVELS level = ABLATE_ZILCH;
	MODES therapy_mode = current_therapy_settings.treatment.therapy_mode;
	
	switch (therapy_mode)
	{
		case (LO):
		{
			level = current_therapy_settings.setpoint.lo;
			current_therapy_settings.treatment.ent_flow_sp[LO][level] = 
			  (ENT_FLOW_SP_T)new_flow;
		break;
		}
		case(MED):
		{
			level = current_therapy_settings.setpoint.med;
			current_therapy_settings.treatment.ent_flow_sp[MED][level] = 
			  (ENT_FLOW_SP_T)new_flow;
			break;
		}
		case(HI):
		{
			level = current_therapy_settings.setpoint.hi;
			current_therapy_settings.treatment.ent_flow_sp[HI][level] = 
			  (ENT_FLOW_SP_T)new_flow;
			break;
		}
		default:
		{
			new_flow = 0;
		}
	}
	return new_flow;
}

/***************************************************************************//**
@MANTA
change_flow_sp updates the flow rate for selected mode/level.
@param new_flow requested flow rate
@return flow rate for selected mode/level
@outputs
@context
*******************************************************************************/
uint8_t change_flow_manta(uint8_t coag_level, uint8_t new_flow)
{
  current_therapy_settings.pump.ent_flow = smart_wand_params.manta.manta_flow_sp[coag_level][new_flow];
  return new_flow;
}